& {
	--toolbar-start-end-padding: 4px;

	--toolbarbutton-border-radius: 3px !important;
	--toolbarbutton-width: 27px;
	--toolbarbutton-height: 27px;

	--personal-toolbar-height: 23px;

	:not(.widget-overflow-list) {
		> .toolbarbutton-1:not(
			#fxa-toolbar-menu-button,
			#tabs-newtab-button,
			#new-tab-button,
			.subviewbutton
		) {
			box-shadow: 0 1px 0 0 transparent, inset 0 1px 2px transparent !important;

			&::before {
				background: rgba(255,255,255,1) !important;
				border-radius: var(--toolbarbutton-border-radius) !important;
			}

			&:not([disabled]) {
				&:hover {
					border-top-color: color-mix(
						in srgb,
						var(--toolbarbutton-border-color-hot) 30%,
						white
					) !important;
					border-bottom-color: color-mix(
						in srgb,
						var(--toolbarbutton-border-color-hot) 80%,
						black
					) !important;
					box-shadow: 0 1px 0 0 rgb(0, 0, 0, 14%),
								inset 0 1px 2px rgb(255, 255, 255, 75%) !important;

					&::before {
						opacity: .3;
					}
				}

				&:active,
				&[open] {
					&::before {
						content: unset;
					}

					background: linear-gradient(
						to bottom,
						rgb(0,0,0,.4),
						rgb(0,0,0,.1) 1%,
					) !important;
					box-shadow: 0 1px 0 0 transparent,
						inset 0 1px 2px rgb(0, 0, 0, 18%) !important;
					border-color: var(
						--toolbarbutton-border-color-active
					) !important;
				}
			}
			&[disabled] {
				.toolbarbutton-icon,
				image:first-of-type {
					fill: color-mix(
						in srgb,
						var(--toolbarbutton-icon-color) 25%,
						transparent
					) !important;
				}
			}
			&#reload-button,
			&#home-button {
				.toolbarbutton-icon {
					margin-bottom: 0 !important;
				}
			}
		}
	}

	&[sizemode="maximized"],
	&[sizemode="fullscreen"] {
		#fxa-toolbar-menu-button {
			margin-inline-start: 8px !important;
			margin-inline-end: -2px !important;

			.toolbarbutton-badge-stack {
				margin-block-end: 10px;
			}
		}
	}

	#fxa-toolbar-menu-button {
		margin-inline-end: -4px !important;
		
		.toolbarbutton-badge-stack {
			margin-block-end: 10px;
		}
	}

	//&:not([personalbar="newtab"]) {
		#PersonalToolbar {
			> * {
				margin-top: -5px !important;
				margin-bottom: 1px !important;
			}
		}
	//}

	#PersonalToolbar {
		.bookmark-item:not(.menu-iconic, .menuitem-iconic) {
			position: relative;
			overflow: hidden;
			border-radius: var(--toolbarbutton-border-radius) !important;
			box-shadow: var(--personal-toolbar-item-shadow);
			border: 1px solid transparent;
			box-sizing: border-box;
			transition: none !important;
		
			&:hover {
				box-shadow: var(--personal-toolbar-item-hover-shadow) !important;
				border: 1px solid rgb(176, 176, 176);
				border-top-color: rgb(205, 205, 204) !important;
				border-bottom-color: rgb(144, 144, 144) !important;
				color: var(--bookmark-item-hover-color) !important;
				transition: all 150ms linear !important;
		
				&::before {
					opacity: 1;
					transition: all 150ms linear !important;
				}
			}
		
			&::before {
				content: "";
				position: absolute;
				left: 0;
				right: 0;
				top: 0;
				height: 1px;
				background: rgb(255, 255, 255, 80%);
				transition: none !important;
				opacity: 0;
			}
		}
	}
}